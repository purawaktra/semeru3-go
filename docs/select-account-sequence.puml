@startuml
'https://plantuml.com/sequence-diagram

participant Router
participant RequestHandler as rh
participant Controller as ctrl
participant Function as func
participant UseCase as uc
participant Repository as repo

Router -> rh : SelectTableAccount(context)
rh -> ctrl : SelectTableAccount(request)
ctrl -> func : BindAndValidate(payload)
func --> ctrl : dto, nil
func x--> ctrl : nil, error
ctrl x--> rh : response, error
rh x--> Router : 400, error response
ctrl -> uc : SelectAccountById(dto)
uc -> repo : SelectAccountById(entity)
ctrl -> uc : SelectAccountByFirstName(dto)
uc -> repo : SelectAccountByFirstName(entity)
ctrl -> uc : SelectAccountByLastName(dto)
uc -> repo : SelectAccountByLastName(entity)
ctrl -> uc : SelectAccountByEmail(dto)
uc -> repo : SelectAccountByEmail(entity)
ctrl -> uc : SelectAllAccount(dto)
uc -> repo : SelectAllAccount(entity)
repo --> uc : Account, nil
uc --> ctrl : Account, nil
ctrl --> rh : response, nil
rh --> Router : 200, OK response
repo x--> uc : nil, error
uc x--> ctrl : nil, error
ctrl x--> rh : response, error
rh x--> Router : 400, error response

@enduml
